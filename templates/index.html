{% extends 'layout.html' %}

{% block content %}
<h2>Choose Article:</h2>
<ul>
    {% for article in articles %}
        <li><a href="{{ url_for('article', title=article.title) }}">{{ article.title }}</a></li>
    {% endfor %}
</ul>

{% endblock %}

{% block script %}
<script>
    var url = "{{ url_for('index') }}";
    $.get(url, function(data) {
        var articles = data.articles;
        var $list = $("ul");
        var $listItems = $("<li></li>");
        for (var i = 0; i < articles.length; i++) {
            $listItems.append("<a href='/article/" + articles[i].title + "'>" + articles[i].title + "</a>");
        }
        $list.append($listItems);
    });
</script>
{% endblock %}
